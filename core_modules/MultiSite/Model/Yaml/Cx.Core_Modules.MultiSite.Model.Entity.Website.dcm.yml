Cx\Core_Modules\MultiSite\Model\Entity\Website:
  type: entity
  repositoryClass: Cx\Core_Modules\MultiSite\Model\Repository\WebsiteRepository
  table: core_module_multisite_website
  uniqueConstraints:
    name_index:
      columns: [ name ]
  id:
    id:
      type: integer
      generator:
        strategy: AUTO
  fields:
    name:
      type: string
      length: 200
    creationDate:
      type: datetime
    codeBase:
      type: string
      length: 50
    language:
      type: string
      length: 50
    status:
      type: string
      length: 15
    websiteServiceServerId:
      type: integer
    secretKey:
      type: string 
    ipAddress:
      type: string
      length: 45
    themeId:
      type: integer
    installationId:
      type: string
      length: 40  
    ftpUser:
      type: string
      length: 200
    mailAccountId:
      type: integer
    mode:
      type: string
      columnDefinition: ENUM('standalone', 'server', 'client')
      options:
        default: 'standalone'

  manyToMany:
    # unidirectional association
    domains:
      targetEntity: Cx\Core_Modules\MultiSite\Model\Entity\Domain
      joinTable:
        name: core_module_multisite_website_domain
        joinColumns:
          website_id:
            referencedColumnName: id
        inverseJoinColumns:
          domain_id:
            referencedColumnName: id
            unique: true

  manyToOne: # owning side
    websiteServiceServer:
      targetEntity: Cx\Core_Modules\MultiSite\Model\Entity\WebsiteServiceServer
      inversedBy: websites
      joinColumn:
        name: websiteServiceServerId
        referencedColumnName: id
#        cascade: [remove]
    owner:
      targetEntity: Cx\Core\User\Model\Entity\User
      joinColumn:
          name: ownerId
          referencedColumnName: id
    mailServiceServer:
      targetEntity: Cx\Core_Modules\MultiSite\Model\Entity\MailServiceServer
      inversedBy: websites
      joinColumn:
        name: mailServiceServerId
        referencedColumnName: id
    websiteCollection:
      targetEntity: Cx\Core_Modules\MultiSite\Model\Entity\WebsiteCollection
      inversedBy: websites
      joinColumn:
        name: websiteCollectionId
        referencedColumnName: id
    serverWebsite:
      targetEntity: Cx\Core_Modules\MultiSite\Model\Entity\Website
      joinColumn:
        name: server_website_id
        referencedColumnName: id
        nullable: true
        
