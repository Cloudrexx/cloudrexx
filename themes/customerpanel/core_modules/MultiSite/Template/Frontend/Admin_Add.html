<!-- BEGIN showAddAdminUser -->
<div class="grid-elm grid-align-1-1 grid-offset">   
  <form role="form"  id="multisite_admin_user_add_form" action="{MULTISITE_ADMIN_USER_SUBMIT_URL}">
    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    <h2>{TXT_CORE_MODULE_MULTISITE_CREATE_ADMIN_USER}</h2>   

    <fieldset> 
      <div class="row">
        <label for="first_name">{TXT_USER_FIRSTNAME}:</label>
        <input type="text" name="adminUser[userProfile][firstname]" id="first_name" value="">
      </div>  
      <div class="row">
        <label for="last_name">{TXT_USER_LASTNAME}:</label>
        <input type="text" name="adminUser[userProfile][lastname]" id="last_name" value="">
      </div>  
      <div class="row">
        <label for="email">{TXT_USER_EMAIL}:</label>
        <input type="text" name="adminUser[email]" id="email" value="">
      </div>  
      <div class="row">
        <label for="notification_email">{TXT_USER_NOTIFICATION_EMAIL}:</label>
        <input type="radio" name="notification_email" class="notification_email" id="password_gernerated" value="1" checked="checked" /><label for="notification_email">{TXT_ACCESS_PASSWORD_GENERATED}</label>
        <input type="radio" name="notification_email" class="notification_email" id="password_manually" value="0" /><label for="notification_email">{TXT_ACCESS_PASSWORD_MANUALLY}</label>
      </div>  
      <div class="row">
        <label id="label_password" for="password">{TXT_ACCESS_PASSWORD}:</label>
        <input type="password" name="adminUser[password]" id="password" value="">
      </div>  
      <div class="row">
        <label id="label_confirm_password" for="confirm_password">{TXT_ACCESS_CONFIRM_PASSWORD}:</label>
        <input type="password" name="adminUser[confirm_password]" id="confirm_password" value="">
      </div>  
        <input type="hidden" name="adminUser[id]" id="userId" value="">
      <div class="row">
        <button type="submit"  data-loading-text="<img src='/lib/javascript/jquery/jstree/themes/default/throbber.gif' /> {TXT_CORE_MODULE_MULTISITE_LOADING_TEXT}"  class="save loadingProcess">{TXT_CORE_MODULE_MULTISITE_ADD}</button>
        <button type="button" class="" data-dismiss="modal">{TXT_CORE_MODULE_MULTISITE_CANCEL}</button>
      </div>
    </fieldset>   
  </form>
</div>
<script type="text/javascript">
  /* <![CDATA[ */
  jQuery(document).ready(function () {
    jQuery('input[name="notification_email"]').change(function() {
      if(jQuery(this).val()==1) {
          jQuery('#label_password').hide();
          jQuery('#password').val('').hide();
          jQuery('#label_confirm_password').hide();
          jQuery('#confirm_password').val('').hide();
          //FF complete the password field with the password from the password manager
          //FF should not do such a stupid thing
          setTimeout(function(){
              jQuery('#password').val('');
          }, 100);
      } else if(jQuery(this).val()==0) {
          jQuery('#label_password').show();
          jQuery('#password').show();
          jQuery('#label_confirm_password').show();
          jQuery('#confirm_password').show();
      }
    });
    jQuery('#multisite_admin_user_add_form').submit(function () {
      var apiUrl = '/api/MultiSite/Website/Admins?id=' + getQueryParams(document.location.search)['id'];
      sendApiFormRequest('#multisite_admin_user_add_form', '#AdminAdd', '#multisite_website_admins', apiUrl);
      return false;
    });
    jQuery('input[name="notification_email"]:checked').trigger('change');
  });
  /* ]]> */
</script>
<!-- END showAddAdminUser -->
